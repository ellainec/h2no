<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test</title>
    <style>
			#myCanvas { 
				background-color: blue; 
			}
		</style>
</head>
<body>

<canvas id="myCanvas" width = "800px" height="400px"></canvas>
<script>
	var canvas = document.getElementById("myCanvas"); 
	var ctx = canvas.getContext("2d"); 
	
	var rightPressed = false; 
	var leftPressed = false; 
	var upPressed = false;
	var falling = false;
	
	var x = canvas.width*.5;
	var y = canvas.height-20;
 
	
	document.addEventListener("keydown", keyDownHandler, false); 
	document.addEventListener("keyup", keyUpHandler, false);
	
		
	function keyDownHandler(e) { 
		if(e.keyCode == 39) { 
			rightPressed = true;
		} 
		if (e.keyCode == 37) { 
			leftPressed = true;
		}
		if (e.keyCode == 38) { 
			upPressed = true;
		}
	}
	
	function keyUpHandler(e) { 
		if(e.keyCode == 39) { 
			rightPressed = false;
		} 
		if(e.keyCode == 37) { 
			leftPressed = false;
		}
	}
	
	function jump() { 
		if (!falling) { 
			y -= 3;
			if (y <=300) { 
				falling = true; 
			}
		}
		if (falling) { 
			y+=3; 
			if (y >= canvas.height-20) { 
				falling = false; 
				upPressed = false;
			}
		}
	}
	function draw() { 
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		square();
		if (rightPressed) { 
			x += 3; 
		}
		if (leftPressed) { 
			x -= 3;
		}
		if (upPressed) { 
			jump();
		}
		requestAnimationFrame(draw);
	}
	function square() { 
		ctx.fillStyle = "red"; 
		ctx.fillRect(x, y, 20, 20);
	}
	draw();


	
</script> 
</body>
</html>